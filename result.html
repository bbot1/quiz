<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>퀴즈 결과</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h2>퀴즈 결과</h2>
    <p id="resultScore"></p>
    <h3>틀린 문제 목록</h3>
    <div id="wrongList"></div>
    <button id="restartBtn">처음으로 돌아가기</button>
  </div>

  <script>
    const score = localStorage.getItem('quizScore');
    const total = localStorage.getItem('quizTotal');
    const wrong = JSON.parse(localStorage.getItem('quizWrong')) || [];

    const resultScore = document.getElementById('resultScore');
    const wrongList = document.getElementById('wrongList');
    const restartBtn = document.getElementById('restartBtn');

    resultScore.textContent = `점수: ${score} / ${total}`;

    if(wrong.length === 0) {
      wrongList.textContent = "모든 문제를 맞히셨습니다!";
    } else {
      wrong.forEach((q, idx) => {
        const div = document.createElement('div');
        div.innerHTML = `<b>${idx+1}. ${q.question}</b><br/>정답: ${
          q.type === 'multiple' ? q.choices[q.answer] : JSON.stringify(q.answer)
        }`;
        wrongList.appendChild(div);
      });
    }

    restartBtn.onclick = () => {
      location.href = "index.html";
    };
  </script>
</body>
</html>
